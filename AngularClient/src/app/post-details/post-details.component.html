<app-main-nav> </app-main-nav>

<div class="container">
    <div class="post-title">
        <h1>{{postInfo?.postName}}</h1>
    </div>

    <div class="post-details">
        <div class="roomPreview">
            <img id="main" [src]="roomImages[0]">
            <div class="thumb-bar">
                <img *ngFor="let img of roomImages" [src]="img" (click)="changeImage($event)">
            </div>
        </div>

        <div class="roomDetails">
            <h2>Thông tin phòng trọ</h2>
            <div>
                <ul>
                    <li>Trạng thái thuê:
                        <span>{{postInfo?.Room.rented === false ? 'Chưa được thuê' : 'Đã được thuê'}}</span>
                    </li>

                    <li>Địa chỉ:
                        <span> số nhà {{postInfo?.Room.homeNumber}}, đường {{postInfo?.Room.street}}, phường
                            {{postInfo?.Room.ward}},
                            quận {{postInfo?.Room.district}},
                            {{postInfo?.Room.city}}
                        </span>
                    </li>
                    <li>Chung chủ: <span>{{postInfo?.Room.sharedOwner === false ? 'Không' : 'Có'}}</span></li>
                    <li>Diện tích: <span>{{postInfo?.Room.area}} m<sup>2</sup></span> </li>
                    <li>Loại phòng: <span>{{postInfo?.Room.roomType}}</span></li>

                </ul>
            </div>

            <div class="utils">
                <h3>Cơ sở vật chất</h3>
                <ul>
                    <li>Điều hòa: <span>{{postInfo?.Room.airconditioner === true ? 'Có' : 'Không'}}</span></li>
                    <li>Ban công: <span>{{postInfo?.Room.balcony === true ? 'Có' : 'Không'}}</span></li>
                    <li>Giá điện: <span>{{postInfo?.Room.electricityPrice}} đồng kW/h</span></li>
                    <li>Giá nước: <span>{{postInfo?.Room.waterPrice}} đồng /m<sup>3</sup></span></li>
                    <li>Phòng bếp: <span>{{postInfo?.Room.kitchen}}</span></li>
                    <li>Phòng tắm: <span>{{postInfo?.Room.bathroom}}</span></li>
                </ul>

                <div class="price">
                    <h3>Giá phòng</h3>
                    <ul>
                        <li>Theo tháng: <span>{{postInfo?.Room.monthPrice}} đồng</span></li>
                        <li>Theo quý: <span>{{postInfo?.Room.quarterPrice}} đồng</span></li>
                        <li>Theo năm: <span>{{postInfo?.Room.yearPrice}} đồng</span></li>
                    </ul>
                </div>

                <div class="otherUtils">
                    <h3>Tiện ích khác: </h3>
                    <span>{{postInfo?.Room.otherUtils}}</span>
                </div>
            </div>
        </div>

        <div class="features">
            <h2>Thông tin bài đăng</h2>

            <div class="post-stats">
                <span>Lượt xem: {{postInfo?.viewsNumber + 1}}</span>
                <span>Số lượt yêu thích: {{postInfo?.likesNumber}}</span>
                <span>Số sao: {{postInfo?.starsReview}}</span>
            </div>
            <div>
                <button type="button" class="btn btn-primary">Favorite</button>
                <button type="button" class="btn btn-danger" (click)="showReportInput()"
                    *ngIf="currentAccount">Report</button>
                <button type="button" class="btn btn-info"
                    *ngIf="postInfo?.accountUsername === currentAccount?.username">Gia hạn </button>
            </div>

            <div class="report-content" *ngIf="showReportArea">
                <textarea class="form-control"></textarea>
                <button class="btn btn-warning" (click)="sendReport()">Report bài đăng</button>
                <span *ngIf="sent">Cảm ơn bạn đã report, chúng tôi sẽ xem xét nhanh nhất có thể</span>
            </div>
        </div>

        <div class="owner-info">
            <h2>Thông tin liên lạc</h2>

            <ul class="list-group">
                <li class="list-group-item">Họ tên: {{ownerInfo?.fullName}}</li>
                <li class="list-group-item">Số điện thoại: {{ownerInfo?.phoneNumber}}</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            Mô tả phòng trọ
        </div>
        <div class="card-body">
            <blockquote class="blockquote mb-0">
                <p>{{postInfo?.Room.description}}</p>
                <!-- <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer> -->
            </blockquote>
        </div>
    </div>

    <div class="comments">
        <app-comments></app-comments>
    </div>
</div>