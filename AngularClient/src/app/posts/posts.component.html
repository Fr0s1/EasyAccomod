<app-main-nav> </app-main-nav>

<div class="container">

    <div class="main">
        <div class="no-result">
            <img src="../../assets/no_result.gif" *ngIf="previewPosts?.length == 0">
        </div>

        <div class="room" *ngFor="let post of previewPosts; let i=index">
            <a routerLink="/post/{{post.postID}}">
                <img [src]="postImages[i]" height="200px" width="">
            </a>
            <h2>{{post.postName}}</h2>
            <p>
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar-date" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                    <path
                        d="M6.445 11.688V6.354h-.633A12.6 12.6 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61h.675zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82h-.684zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23z" />
                </svg>
                Thời gian đăng: {{post.postTime | date : 'short' : 'Asia/Ho_Chi_Minh'}}
            </p>
            <p> <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cash" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M15 4H1v8h14V4zM1 3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H1z" />
                    <path
                        d="M13 4a2 2 0 0 0 2 2V4h-2zM3 4a2 2 0 0 1-2 2V4h2zm10 8a2 2 0 0 1 2-2v2h-2zM3 12a2 2 0 0 0-2-2v2h2zm7-4a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                </svg>
                Giá: {{post.Room.monthPrice | number:'1.0':'en-US'}} đồng / tháng</p>
            <p>
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-textarea-resize" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M0 3.5A2.5 2.5 0 0 1 2.5 1h11A2.5 2.5 0 0 1 16 3.5v8.854a2.5 2.5 0 0 1-2.5 2.5h-11a2.5 2.5 0 0 1-2.5-2.5V3.5zM2.5 2A1.5 1.5 0 0 0 1 3.5v8.854a1.5 1.5 0 0 0 1.5 1.5h11a1.5 1.5 0 0 0 1.5-1.5V3.5A1.5 1.5 0 0 0 13.5 2h-11zm10.854 6.5a.5.5 0 0 1 0 .707l-3 3a.5.5 0 1 1-.708-.707l3-3a.5.5 0 0 1 .708 0zm0 2.5a.5.5 0 0 1 0 .707l-.5.5a.5.5 0 0 1-.708-.707l.5-.5a.5.5 0 0 1 .708 0z" />
                </svg>
                Diện tích: {{post.Room.area}} m<sup>2</sup>
            </p>
            <p><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-building" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694L1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z" />
                    <path
                        d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z" />
                </svg>
                {{post.Room.district + ', ' + post.Room.city}}</p>
        </div>

        <mat-form-field class="mat-focused">
            <mat-label>Trang số: </mat-label>
            <input matInput type="number" [(ngModel)]="pageNumber" (ngModelChange)="goToPage()">
        </mat-form-field>

        <mat-paginator showFirstLastButtons (page)="pageChangeEvent($event)" [length]="pageLength"
            [pageSize]="pageSizeOptions[2]" [pageSizeOptions]="pageSizeOptions">
        </mat-paginator>
    </div>

    <div class="sidebar">
        <div class="search">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Thành phố</span>
                </div>
                <input type="text" class="form-control" aria-describedby="basic-addon1" name="city">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Quận</span>
                </div>
                <select class="form-control" name="district" (change)="fetchWards($event)">
                    <option>Chọn...</option>
                    <option *ngFor="let district of data[0].district">{{district.name}}</option>
                </select>
            </div>

            <div class="input-group mb-3">

                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Phường</span>
                </div>

                <select class="form-control" name="ward">
                    <option>Chọn...</option>

                    <option *ngFor="let ward of selectedDistrict">{{ward?.name}}</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Đường</span>
                </div>
                <input type="text" class="form-control" aria-describedby="basic-addon1" name="street">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Giá</span>
                </div>

                <select class="form-control" name="monthPrice">
                    <option>Chọn...</option>
                    <option>1 triệu - 5 triệu</option>
                    <option>5 triệu - 10 triệu</option>
                    <option>10 triệu - 20 triệu</option>
                    <option>20 triệu - 30 triệu</option>
                    <option>30 triệu - 50 triệu</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Diện tích</span>

                </div>
                <select class="form-control" name="area">
                    <option>Chọn...</option>
                    <option>0 - 50m2</option>
                    <option>50 - 100m2</option>
                    <option>100 - 200m2</option>
                    <option>200 - 300m2</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Chung chủ</span>
                </div>
                <select class="form-control" name="sharedOwner">
                    <option>Chọn...</option>
                    <option>Có </option>
                    <option>Không</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Loại phòng</span>
                </div>

                <select id="roomType" class="form-control" name="roomType">
                    <option>Chọn...</option>
                    <option>Phòng trọ</option>
                    <option>Chung cư mini</option>
                    <option>Nhà nguyên căn</option>
                    <option>Chung cư nguyên căn</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <button class="btn btn-light" (click)="searchPost()">Tìm kiếm</button>
                <button class="btn btn-secondary" (click)="resetPost()">Quay lại</button>
            </div>
        </div>
    </div>
</div>

<app-footer></app-footer>